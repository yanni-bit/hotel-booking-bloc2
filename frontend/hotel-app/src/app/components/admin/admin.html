<!-- ============================================================================
     FICHIER : admin.component.html
     DESCRIPTION : Page tableau de bord administration
     AUTEUR : Yannick
     DATE : 2025
     ============================================================================
     SECTIONS :
       - En-tête avec badge admin
       - Statistiques (6 cartes cliquables)
       - Menu d'actions (6 modules de gestion)
     ============================================================================ -->

<main class="admin-page py-5">
  <div class="container">

    <!-- ====================================================================
         EN-TÊTE ADMINISTRATION
         ==================================================================== -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1 class="h3 text-turquoise mb-0">
        <i class="bi bi-shield-check me-2"></i>Administration
      </h1>
      <div>
        <span class="badge bg-danger">ADMIN</span>
        <span class="ms-2">{{ authService.currentUser()?.prenom }} {{ authService.currentUser()?.nom }}</span>
      </div>
    </div>

    <!-- ====================================================================
         SECTION STATISTIQUES
         6 cartes avec compteurs cliquables
         ==================================================================== -->
    <div class="row mb-5" *ngIf="!loading">

      <!-- ----------------------------------------
           Statistique : Hôtels
           ---------------------------------------- -->
      <div class="col-6 col-lg-2 mb-4">
        <a [routerLink]="['/admin/hotels']" class="text-decoration-none">
          <div class="card border-0 shadow-sm stat-card">
            <div class="card-body text-center p-4">
              <i class="bi bi-building stat-icon text-primary"></i>
              <h3 class="h2 mb-0 mt-3">{{ stats.hotels }}</h3>
              <p class="text-muted mb-0">Hôtels</p>
            </div>
          </div>
        </a>
      </div>

      <!-- ----------------------------------------
           Statistique : Réservations
           ---------------------------------------- -->
      <div class="col-6 col-lg-2 mb-4">
        <a [routerLink]="['/admin/reservations']" class="text-decoration-none">
          <div class="card border-0 shadow-sm stat-card">
            <div class="card-body text-center p-4">
              <i class="bi bi-calendar-check stat-icon text-success"></i>
              <h3 class="h2 mb-0 mt-3">{{ stats.reservations }}</h3>
              <p class="text-muted mb-0">Réservations</p>
            </div>
          </div>
        </a>
      </div>

      <!-- ----------------------------------------
           Statistique : Utilisateurs
           ---------------------------------------- -->
      <div class="col-6 col-lg-2 mb-4">
        <a [routerLink]="['/admin/users']" class="text-decoration-none">
          <div class="card border-0 shadow-sm stat-card">
            <div class="card-body text-center p-4">
              <i class="bi bi-people stat-icon text-warning"></i>
              <h3 class="h2 mb-0 mt-3">{{ stats.users }}</h3>
              <p class="text-muted mb-0">Utilisateurs</p>
            </div>
          </div>
        </a>
      </div>

      <!-- ----------------------------------------
           Statistique : Messages (avec badge non lus)
           ---------------------------------------- -->
      <div class="col-6 col-lg-2 mb-4">
        <a [routerLink]="['/admin/messages']" class="text-decoration-none">
          <div class="card border-0 shadow-sm stat-card">
            <div class="card-body text-center p-4 position-relative">
              <i class="bi bi-envelope stat-icon text-danger"></i>
              <h3 class="h2 mb-0 mt-3">{{ stats.messages }}</h3>
              <p class="text-muted mb-0">Messages</p>
              <!-- Badge non lus -->
              <span *ngIf="stats.messagesUnread > 0"
                class="position-absolute top-0 end-0 translate-middle badge rounded-pill bg-danger"
                style="margin-top: 10px; margin-right: 10px;">
                {{ stats.messagesUnread }}
                <span class="visually-hidden">messages non lus</span>
              </span>
            </div>
          </div>
        </a>
      </div>

      <!-- ----------------------------------------
           Statistique : Avis (avec badge nouveaux)
           ---------------------------------------- -->
      <div class="col-6 col-lg-2 mb-4">
        <a [routerLink]="['/admin/avis']" class="text-decoration-none">
          <div class="card border-0 shadow-sm stat-card">
            <div class="card-body text-center p-4 position-relative">
              <i class="bi bi-star stat-icon text-info"></i>
              <h3 class="h2 mb-0 mt-3">{{ stats.avis }}</h3>
              <p class="text-muted mb-0">Avis</p>
              <!-- Badge nouveaux -->
              <span *ngIf="stats.avisNew > 0"
                class="position-absolute top-0 end-0 translate-middle badge rounded-pill bg-success"
                style="margin-top: 10px; margin-right: 10px;">
                {{ stats.avisNew }}
                <span class="visually-hidden">nouveaux avis</span>
              </span>
            </div>
          </div>
        </a>
      </div>

      <!-- ----------------------------------------
           Statistique : Services
           ---------------------------------------- -->
      <div class="col-6 col-lg-2 mb-4">
        <a [routerLink]="['/admin/services']" class="text-decoration-none">
          <div class="card border-0 shadow-sm stat-card">
            <div class="card-body text-center p-4">
              <i class="bi bi-gear stat-icon text-secondary"></i>
              <h3 class="h2 mb-0 mt-3">{{ stats.services }}</h3>
              <p class="text-muted mb-0">Services</p>
            </div>
          </div>
        </a>
      </div>

    </div>

    <!-- ====================================================================
         SECTION MENU D'ACTIONS
         Cartes avec boutons d'accès aux modules de gestion
         ==================================================================== -->
    <div class="row">

      <!-- ----------------------------------------
           Action : Gestion des Hôtels
           ---------------------------------------- -->
      <div class="col-md-6 col-lg-3 mb-4">
        <div class="card border-0 shadow-sm action-card h-100">
          <div class="card-body p-4">
            <div class="d-flex align-items-center mb-3">
              <i class="bi bi-building-fill text-primary me-3" style="font-size: 2rem;"></i>
              <h3 class="h5 mb-0">Gestion des Hôtels</h3>
            </div>
            <p class="text-muted mb-3">Créer, modifier ou supprimer des hôtels</p>
            <a [routerLink]="['/admin/hotels']" class="btn btn-primary w-100">
              <i class="bi bi-arrow-right me-2"></i>Gérer les hôtels
            </a>
          </div>
        </div>
      </div>

      <!-- ----------------------------------------
           Action : Gestion des Réservations
           ---------------------------------------- -->
      <div class="col-md-6 col-lg-3 mb-4">
        <div class="card border-0 shadow-sm action-card h-100">
          <div class="card-body p-4">
            <div class="d-flex align-items-center mb-3">
              <i class="bi bi-calendar-check-fill text-success me-3" style="font-size: 2rem;"></i>
              <h3 class="h5 mb-0">Réservations</h3>
            </div>
            <p class="text-muted mb-3">Consulter et gérer toutes les réservations</p>
            <a [routerLink]="['/admin/reservations']" class="btn btn-success w-100">
              <i class="bi bi-arrow-right me-2"></i>Voir les réservations
            </a>
          </div>
        </div>
      </div>

      <!-- ----------------------------------------
           Action : Gestion des Messages
           ---------------------------------------- -->
      <div class="col-md-6 col-lg-3 mb-4">
        <div class="card border-0 shadow-sm action-card h-100">
          <div class="card-body p-4 position-relative">
            <div class="d-flex align-items-center mb-3">
              <i class="bi bi-envelope-fill text-danger me-3" style="font-size: 2rem;"></i>
              <h3 class="h5 mb-0">Messages</h3>
            </div>
            <p class="text-muted mb-3">Consulter les messages de contact</p>
            <a [routerLink]="['/admin/messages']" class="btn btn-danger w-100">
              <i class="bi bi-arrow-right me-2"></i>Voir les messages
            </a>
            <!-- Badge non lus -->
            <span *ngIf="stats.messagesUnread > 0"
              class="position-absolute top-0 end-0 translate-middle badge rounded-pill bg-warning text-dark"
              style="margin-top: 15px; margin-right: 15px;">
              {{ stats.messagesUnread }} nouveau(x)
            </span>
          </div>
        </div>
      </div>

      <!-- ----------------------------------------
           Action : Gestion des Avis
           ---------------------------------------- -->
      <div class="col-md-6 col-lg-3 mb-4">
        <div class="card border-0 shadow-sm action-card h-100">
          <div class="card-body p-4 position-relative">
            <div class="d-flex align-items-center mb-3">
              <i class="bi bi-star-fill text-info me-3" style="font-size: 2rem;"></i>
              <h3 class="h5 mb-0">Avis clients</h3>
            </div>
            <p class="text-muted mb-3">Consulter et modérer les avis</p>
            <a [routerLink]="['/admin/avis']" class="btn btn-info w-100">
              <i class="bi bi-arrow-right me-2"></i>Gérer les avis
            </a>
            <!-- Badge nouveaux -->
            <span *ngIf="stats.avisNew > 0"
              class="position-absolute top-0 end-0 translate-middle badge rounded-pill bg-success"
              style="margin-top: 15px; margin-right: 15px;">
              {{ stats.avisNew }} nouveau(x)
            </span>
          </div>
        </div>
      </div>

      <!-- ----------------------------------------
           Action : Gestion des Utilisateurs
           ---------------------------------------- -->
      <div class="col-md-6 col-lg-3 mb-4">
        <div class="card border-0 shadow-sm action-card h-100">
          <div class="card-body p-4">
            <div class="d-flex align-items-center mb-3">
              <i class="bi bi-people-fill text-warning me-3" style="font-size: 2rem;"></i>
              <h3 class="h5 mb-0">Utilisateurs</h3>
            </div>
            <p class="text-muted mb-3">Gérer les comptes utilisateurs</p>
            <a [routerLink]="['/admin/users']" class="btn btn-warning w-100">
              <i class="bi bi-arrow-right me-2"></i>Gérer les utilisateurs
            </a>
          </div>
        </div>
      </div>

      <!-- ----------------------------------------
           Action : Gestion des Services
           ---------------------------------------- -->
      <div class="col-md-6 col-lg-3 mb-4">
        <div class="card border-0 shadow-sm action-card h-100">
          <div class="card-body p-4">
            <div class="d-flex align-items-center mb-3">
              <i class="bi bi-gear-fill text-secondary me-3" style="font-size: 2rem;"></i>
              <h3 class="h5 mb-0">Services</h3>
            </div>
            <p class="text-muted mb-3">Gérer les services additionnels</p>
            <a [routerLink]="['/admin/services']" class="btn btn-secondary w-100">
              <i class="bi bi-arrow-right me-2"></i>Gérer les services
            </a>
          </div>
        </div>
      </div>

    </div>

  </div>
</main>