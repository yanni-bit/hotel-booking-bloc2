<div class="hotel-reviews">
  <h2 class="h4 mb-4 border-bottom pb-2 text-secondary">
    <i class="bi bi-chat-left-text me-2"></i>{{ 'hotel.customerReviews' | translate }}
  </h2>
  
  <!-- LOADING -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-turquoise" role="status">
      <span class="visually-hidden">{{ 'common.loading' | translate }}</span>
    </div>
    <p class="mt-3 text-muted">{{ 'hotel.loadingReviews' | translate }}</p>
  </div>
  
  <!-- ERROR -->
  <div *ngIf="error && !loading" class="alert alert-danger">
    {{ error }}
  </div>
  
  <!-- AUCUN AVIS -->
  <div *ngIf="!loading && !error && avis.length === 0" class="alert alert-info">
    <i class="bi bi-info-circle me-2"></i>{{ 'hotel.noReviews' | translate }}
  </div>
  
  <!-- CONTENU -->
  <div *ngIf="!loading && !error && avis.length > 0" class="reviews-content">
    
    <!-- STATISTIQUES -->
    <div class="reviews-stats mb-4 p-4 bg-white border rounded shadow-sm">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h3 class="h5 mb-3 text-grismoyen">{{ 'hotel.overallRating' | translate }}</h3>
          <div class="d-flex align-items-center">
            <span class="h4 text-turquoise">{{ noteMoyenne }}</span>
            <span class="h4 text-turquoise">/10</span>
          </div>
          <small class="text-muted">{{ 'hotel.basedOnReviews' | translate: {count: avis.length} }}</small>
        </div>
        <div class="col-md-6 text-end">
          <p class="text-muted mb-0">
            <i class="bi bi-hand-thumbs-up text-turquoise me-2"></i>
            {{ 'hotel.verifiedReviews' | translate }}
          </p>
        </div>
      </div>
    </div>
    
    <!-- LISTE DES AVIS -->
    <div class="reviews-list">
      <div *ngFor="let review of avis" class="review-card mb-3 p-4 bg-white border rounded shadow-sm">
        
        <!-- En-tête avis -->
        <div class="d-flex justify-content-between align-items-start mb-3">
          <div>
            <h4 class="h6 mb-1 fw-bold text-grismoyen">{{ review.pseudo_user || ('hotel.anonymousUser' | translate) }}</h4>
            <small class="text-muted">
              <i class="bi bi-calendar3 me-1"></i>{{ review.date_formatted || review.date_avis }}
            </small>
          </div>
          <div class="text-end">
            <div class="review-note badge bg-turquoise">
              {{ review.note }}/10
            </div>
          </div>
        </div>
        
        <!-- Titre avis -->
        <h5 class="h6 mb-2 text-turquoise" *ngIf="review.titre_avis">
          "{{ review.titre_avis }}"
        </h5>
        
        <!-- Commentaire -->
        <p class="text-muted mb-2" *ngIf="review.commentaire">
          {{ review.commentaire }}
        </p>
        
        <!-- Infos supplémentaires -->
        <div class="review-meta mt-3 pt-3 border-top">
          <div class="row">
            <div class="col-md-6">
              <small class="text-muted">
                <i class="bi bi-person me-1"></i>
                {{ 'hotel.travelerType' | translate }} : 
                <strong class="text-grismoyen">{{ review.type_voyageur || ('hotel.notSpecified' | translate) }}</strong>
              </small>
            </div>
            <div class="col-md-6 text-end">
              <small class="text-muted">
                <i class="bi bi-flag me-1"></i>
                {{ review.pays_origine || ('hotel.countryNotSpecified' | translate) }}
              </small>
            </div>
          </div>
        </div>
        
      </div>
    </div>
    
    <!-- NOTE DE BAS DE PAGE -->
    <div class="alert alert-light mt-4">
      <small class="text-muted">
        <i class="bi bi-shield-check me-2"></i>
        {{ 'hotel.reviewsVerifiedNote' | translate }}
      </small>
    </div>
    
  </div>
</div>