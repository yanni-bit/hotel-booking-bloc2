<!-- PAGE LISTE DES HÔTELS -->
<section class="hotels-list-section py-5">
  <div class="container">
    
    <!-- En-tête de page -->
    <div class="mb-4">
      <h1 class="page-title">{{ 'hotel.hotelsIn' | translate }} {{ ville }}</h1>
      <p class="page-subtitle" *ngIf="!loading && !error">{{ hotels.length }} {{ 'hotel.establishmentsFound' | translate }}</p>
    </div>

    <!-- État de chargement -->
    <div *ngIf="loading" class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">{{ 'common.loading' | translate }}</span>
      </div>
      <p class="mt-3">{{ 'hotel.loadingHotels' | translate }}</p>
    </div>

    <!-- Message d'erreur -->
    <div *ngIf="error" class="alert alert-danger" role="alert">
      {{ error }}
    </div>

    <!-- Aucun hôtel trouvé -->
    <div *ngIf="!loading && !error && hotels.length === 0" class="alert alert-info" role="alert">
      {{ 'hotel.noHotelsFound' | translate }} {{ ville }}.
    </div>

    <!-- Grille des hôtels -->
    <div *ngIf="!loading && !error && hotels.length > 0" class="row g-4">
      
      <div *ngFor="let hotel of hotels" class="col-12 col-md-6 col-lg-4">
        <div class="hotel-card">
          
          <!-- Image de l'hôtel -->
          <div class="hotel-card-image">
            <img [src]="hotel.img_hotel" [alt]="hotel.nom_hotel">
          </div>

          <!-- Corps de la carte -->
          <div class="hotel-card-body">
            <h3 class="hotel-card-title">{{ hotel.nom_hotel }}</h3>
            
            <!-- Étoiles -->
            <div class="hotel-stars mb-2">
              <i class="bi bi-star-fill" *ngFor="let star of [].constructor(hotel.nbre_etoile_hotel)"></i>
            </div>

            <!-- Description -->
            <p class="hotel-card-text">{{ hotel.description_hotel }}</p>

            <!-- Localisation -->
            <p class="hotel-location">
              <i class="bi bi-geo-alt"></i>
              {{ hotel.ville_hotel }}, {{ hotel.pays_hotel }}
            </p>

            <!-- Note moyenne -->
            <div class="hotel-rating" *ngIf="hotel.note_moy_hotel">
              <span class="rating-badge">{{ hotel.note_moy_hotel }}/10</span>
              <span class="rating-text">{{ 'hotel.excellent' | translate }}</span>
            </div>

            <!-- Bouton voir détails -->
            <a [routerLink]="['/hotels', ville, hotel.id_hotel]" class="btn btn-primary w-100 mt-3">{{ 'hotel.viewRooms' | translate }}</a>
          </div>

        </div>
      </div>

    </div>

  </div>
</section>